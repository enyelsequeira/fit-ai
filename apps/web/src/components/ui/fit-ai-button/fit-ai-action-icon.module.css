/* FitAi ActionIcon - Modern, premium icon button */
/* Primary color: TEAL - NO gradients, NO purple/violet */

.root {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  user-select: none;
  position: relative;
  flex-shrink: 0;
  transition:
    background-color 180ms ease,
    border-color 180ms ease,
    color 180ms ease,
    box-shadow 180ms ease,
    transform 150ms ease;

  /* Focus ring for accessibility */
  &:focus-visible {
    outline: 2px solid var(--mantine-color-teal-6);
    outline-offset: 2px;
  }

  /* Disabled state */
  &:disabled {
    opacity: 0.45;
    cursor: not-allowed;
    pointer-events: none;
  }

  /* ========================
     VARIANT: primary
     Solid teal with darker border
     ======================== */
  &[data-variant="primary"] {
    background: var(--mantine-color-teal-6);
    border: 1px solid var(--mantine-color-teal-7);
    color: var(--mantine-color-white);
    box-shadow: light-dark(
      0 1px 2px var(--mantine-color-dark-light),
      0 1px 2px var(--mantine-color-dark-9)
    );

    &:hover:not(:disabled) {
      background: var(--mantine-color-teal-7);
      border-color: var(--mantine-color-teal-8);
      transform: translateY(-1px);
      box-shadow:
        0 4px 12px var(--mantine-color-teal-light),
        light-dark(
          0 2px 4px var(--mantine-color-dark-light),
          0 2px 4px var(--mantine-color-dark-9)
        );
    }

    &:active:not(:disabled) {
      background: var(--mantine-color-teal-8);
      border-color: var(--mantine-color-teal-9);
      transform: translateY(0) scale(0.97);
      box-shadow: light-dark(
        0 1px 2px var(--mantine-color-dark-light),
        0 1px 2px var(--mantine-color-dark-9)
      );
    }
  }

  /* ========================
     VARIANT: secondary (soft/muted)
     Light gray background with subtle border
     ======================== */
  &[data-variant="secondary"] {
    background: light-dark(var(--mantine-color-gray-1), var(--mantine-color-dark-5));
    border: 1px solid light-dark(var(--mantine-color-gray-3), var(--mantine-color-dark-4));
    color: light-dark(var(--mantine-color-gray-8), var(--mantine-color-gray-3));

    &:hover:not(:disabled) {
      background: light-dark(var(--mantine-color-gray-2), var(--mantine-color-dark-4));
      border-color: light-dark(var(--mantine-color-gray-4), var(--mantine-color-dark-3));
      transform: translateY(-1px);
      box-shadow: light-dark(0 2px 8px var(--mantine-color-dark-light), none);
    }

    &:active:not(:disabled) {
      background: light-dark(var(--mantine-color-gray-3), var(--mantine-color-dark-3));
      border-color: light-dark(var(--mantine-color-gray-5), var(--mantine-color-dark-2));
      transform: translateY(0) scale(0.97);
    }
  }

  /* ========================
     VARIANT: outline
     Transparent bg with teal border
     ======================== */
  &[data-variant="outline"] {
    background: transparent;
    border: 1px solid light-dark(var(--mantine-color-teal-5), var(--mantine-color-teal-7));
    color: light-dark(var(--mantine-color-teal-6), var(--mantine-color-teal-4));
    box-shadow: light-dark(0 1px 2px var(--mantine-color-dark-light), none);

    &:hover:not(:disabled) {
      background: light-dark(var(--mantine-color-teal-0), var(--mantine-color-teal-light));
      border-color: light-dark(var(--mantine-color-teal-6), var(--mantine-color-teal-5));
      transform: translateY(-1px);
      box-shadow: light-dark(0 2px 8px var(--mantine-color-teal-light), none);
    }

    &:active:not(:disabled) {
      background: light-dark(var(--mantine-color-teal-1), var(--mantine-color-teal-light));
      border-color: light-dark(var(--mantine-color-teal-7), var(--mantine-color-teal-4));
      transform: translateY(0) scale(0.97);
      box-shadow: none;
    }
  }

  /* ========================
     VARIANT: ghost (transparent with subtle border)
     Light border, fills on hover
     ======================== */
  &[data-variant="ghost"] {
    background: transparent;
    border: 1px solid light-dark(var(--mantine-color-gray-3), var(--mantine-color-dark-4));
    color: var(--mantine-color-text);

    &:hover:not(:disabled) {
      background: light-dark(var(--mantine-color-gray-1), var(--mantine-color-dark-5));
      border-color: light-dark(var(--mantine-color-gray-4), var(--mantine-color-dark-3));
      transform: translateY(-1px);
    }

    &:active:not(:disabled) {
      background: light-dark(var(--mantine-color-gray-2), var(--mantine-color-dark-4));
      border-color: light-dark(var(--mantine-color-gray-5), var(--mantine-color-dark-2));
      transform: scale(0.97);
    }
  }

  /* ========================
     VARIANT: danger
     Solid red with darker border
     ======================== */
  &[data-variant="danger"] {
    background: var(--mantine-color-red-6);
    border: 1px solid var(--mantine-color-red-7);
    color: var(--mantine-color-white);
    box-shadow: light-dark(
      0 1px 2px var(--mantine-color-dark-light),
      0 1px 2px var(--mantine-color-dark-9)
    );

    &:hover:not(:disabled) {
      background: var(--mantine-color-red-7);
      border-color: var(--mantine-color-red-8);
      transform: translateY(-1px);
      box-shadow:
        0 4px 12px var(--mantine-color-red-light),
        light-dark(
          0 2px 4px var(--mantine-color-dark-light),
          0 2px 4px var(--mantine-color-dark-9)
        );
    }

    &:active:not(:disabled) {
      background: var(--mantine-color-red-8);
      border-color: var(--mantine-color-red-9);
      transform: translateY(0) scale(0.97);
      box-shadow: light-dark(
        0 1px 2px var(--mantine-color-dark-light),
        0 1px 2px var(--mantine-color-dark-9)
      );
    }
  }

  /* ========================
     VARIANT: success
     Solid green with darker border
     ======================== */
  &[data-variant="success"] {
    background: var(--mantine-color-green-6);
    border: 1px solid var(--mantine-color-green-7);
    color: var(--mantine-color-white);
    box-shadow: light-dark(
      0 1px 2px var(--mantine-color-dark-light),
      0 1px 2px var(--mantine-color-dark-9)
    );

    &:hover:not(:disabled) {
      background: var(--mantine-color-green-7);
      border-color: var(--mantine-color-green-8);
      transform: translateY(-1px);
      box-shadow:
        0 4px 12px var(--mantine-color-green-light),
        light-dark(
          0 2px 4px var(--mantine-color-dark-light),
          0 2px 4px var(--mantine-color-dark-9)
        );
    }

    &:active:not(:disabled) {
      background: var(--mantine-color-green-8);
      border-color: var(--mantine-color-green-9);
      transform: translateY(0) scale(0.97);
      box-shadow: light-dark(
        0 1px 2px var(--mantine-color-dark-light),
        0 1px 2px var(--mantine-color-dark-9)
      );
    }
  }

  /* ========================
     SIZES
     ======================== */
  &[data-size="xs"] {
    width: rem(26px);
    height: rem(26px);
    min-width: rem(26px);
    min-height: rem(26px);
  }

  &[data-size="sm"] {
    width: rem(32px);
    height: rem(32px);
    min-width: rem(32px);
    min-height: rem(32px);
  }

  &[data-size="md"] {
    width: rem(38px);
    height: rem(38px);
    min-width: rem(38px);
    min-height: rem(38px);
  }

  &[data-size="lg"] {
    width: rem(46px);
    height: rem(46px);
    min-width: rem(46px);
    min-height: rem(46px);
  }

  &[data-size="xl"] {
    width: rem(54px);
    height: rem(54px);
    min-width: rem(54px);
    min-height: rem(54px);
  }

  /* Loading state */
  &[data-loading] {
    pointer-events: none;
    position: relative;

    /* Hide the icon during loading */
    color: transparent;

    &::after {
      content: "";
      position: absolute;
      width: rem(16px);
      height: rem(16px);
      border: 2px solid currentColor;
      border-right-color: transparent;
      border-radius: 50%;
      animation: spin 600ms linear infinite;
    }
  }

  &[data-variant="primary"][data-loading]::after,
  &[data-variant="danger"][data-loading]::after,
  &[data-variant="success"][data-loading]::after {
    border-color: var(--mantine-color-white);
    border-right-color: transparent;
    opacity: 0.6;
  }

  &[data-variant="outline"][data-loading]::after,
  &[data-variant="ghost"][data-loading]::after,
  &[data-variant="secondary"][data-loading]::after {
    border-color: var(--mantine-color-gray-4);
    border-right-color: var(--mantine-color-teal-6);
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    transition: none;

    &:hover:not(:disabled) {
      transform: none;
    }

    &:active:not(:disabled) {
      transform: none;
    }
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
